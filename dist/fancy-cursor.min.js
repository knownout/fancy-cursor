class Cursor{constructor(t){if("ontouchstart"in window||navigator.maxTouchPoints)return!1;const e=Object();["box","point","cover"].forEach(t=>e[t]=document.createElement("div"));for(let t in e)e[t].className=`_cursor-${t}`;if([e.point,e.cover].forEach(t=>e.box.appendChild(t)),!document.body)return!1;document.body.appendChild(e.box);const r=r=>{const o=document.elementFromPoint(r.pageX,r.pageY);let n=document.activeElement;(["INPUT","TEXTAREA"].includes(n.tagName)||n.getAttribute("contenteditable"))&&n==o?e.cover.setAttribute("hidden",!0):e.cover.removeAttribute("hidden");let i=window.getComputedStyle(o),a=i.getPropertyValue("--cursor").trim();if(e.box.getAttribute("setup")||setTimeout(()=>{e.box.setAttribute("setup",!0),setTimeout(()=>e.box.setAttribute("setup","done"),350)},10),e.point.style.transform=`matrix(1, 0, 0, 1, ${r.pageX}, ${r.pageY})`+" translate(-50%, -50%)",e.cover.style.transform=`matrix(1, 0, 0, 1, ${r.pageX}, ${r.pageY})`+" translate(-50%, -50%)",t){let t=i.getPropertyValue("background-color").trim();e.box.setAttribute("dark",function(t){let e=1;return 4==(t=(t="r"==t[0]?t:`(${t})`).replace(/\s|\r|\n/g,"").match(/\(([^;]+)\)/)[1].split(",")).length&&(e=parseFloat(t.pop())),299*(t=e<.2?[255,255,255]:t.map(t=>parseInt(t.trim(),10)))[0]+587*t[1]+114*t[2]/1e3}(t)<11e4),e.box.setAttribute("cursor",a||"default")}},o=t=>requestAnimationFrame(()=>r(t));try{window.removeEventListener("mousemove",o)}catch{}return window.addEventListener("mousemove",o),this.event=o,this.cursor=e,e}}